{
  "identifier": "tech.staysail.ClangD",
  "name": "C-Dragon",
  "organization": "Staysail Systems",
  "description": "C and C++ support",
  "version": "0.8",
  "categories": ["languages", "formatters", "completions", "issues"],
  "license": "MIT",
  "repository": "https://github.com/staysail/nova-clangd",
  "bugs": "https://github.com/staysail/nova-cland/issues",
  "funding": "https://github.com/sponsors/gdamore",

  "main": "main.js",

  "entitlements": {
    "process": true,
    "filesystem": "readonly"
  },

  "commands": {
    "editor": [
      {
        "title": "Format File",
        "command": "staysail.clangd.format",
        "shortcut": "opt-shift-f",
        "filters": {
          "syntaxes": ["c", "cpp"]
        }
      },
      {
        "title": "Rename Symbol",
        "command": "staysail.clangd.rename",
        "filters": {
          "syntaxes": ["c", "cpp"]
        }
      },
      {
        "title": "Preferences",
        "command": "staysail.clangd.preferences",
        "syntaxes": ["c", "cpp"]
      }
    ]
  },

  "config": [
    {
      "key": "staysail.clangd-lsp",
      "title": "Language server to use",
      "description": "Which language server to use",
      "type": "enum",
      "values": [
        ["clangd", "CLangD"],
        ["ccls", "ccls"]
      ],
      "default": "clangd"
    },
    {
      "key": "staysail.clangd-path",

      "title": "Language server Path",
      "description": "Path to the language server",
      "type": "path",
      "placeholder": "/usr/bin/clangd"
    },
    {
      "key": "staysail.clangd-cc-path",
      "title": "Path to compile-commands.json directory",
      "type": "path",
      "allowFolders": true,
      "allowFiles": false,
      "placeholder": "Project Folder"
    },
    {
      "key": "staysail.clangd-format-on-save",
      "title": "Format on save",
      "description": "Format C and C++ files automatically when saving.",
      "type": "boolean",
      "default": false
    }
  ],

  "configWorkspace": [
    {
      "key": "staysail.clangd-cc-path",
      "title": "Directory containing compile-commands.json",
      "type": "path",
      "allowFolders": true,
      "allowFiles": false,
      "placeholder": "Global Default"
    },
    {
      "key": "staysail.clangd-format-on-save",
      "title": "Format on save",
      "description": "Format C and C++ files automatically when saving.",
      "type": "enum",
      "values": [
        [null, "Inherit from Global Settings"],
        [false, "Disable"],
        [true, "Enable"]
      ],
      "default": null
    }
  ],

  "activationEvents": ["onLanguage:c", "onLanguage:cpp"]
}
